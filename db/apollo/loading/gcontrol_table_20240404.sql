SET FOREIGN_KEY_CHECKS=0;

CREATE TABLE IF NOT EXISTS `migration_assets` (
  `ID` bigint NOT NULL AUTO_INCREMENT,
  `CREATE_DATE` datetime NOT NULL,
  `ACTIVATION_DATE` datetime DEFAULT NULL,
  `APN` varchar(255) DEFAULT NULL,
  `DATA_USAGE_LIMIT` bigint DEFAULT NULL,
  `DEVICE_ID` varchar(255) DEFAULT NULL,
  `DEVICE_IP_ADDRESS` varchar(255) DEFAULT NULL,
  `DYNAMIC_IMSI` varchar(255) DEFAULT NULL,
  `DONOR_IMSI` varchar(255) DEFAULT NULL,
  `ICCID` varchar(25) DEFAULT NULL,
  `IMEI` varchar(20) DEFAULT NULL,
  `IMSI` varchar(20) DEFAULT NULL,
  `IN_SESSION` tinyint(1) DEFAULT '0',
  `MODEM_ID` varchar(255) DEFAULT NULL,
  `MSISDN` varchar(20) DEFAULT NULL,
  `SESSION_START_TIME` varchar(255) DEFAULT NULL,
  `SMS_USAGE_LIMIT` bigint DEFAULT NULL,
  `STATE` varchar(255) DEFAULT NULL,
  `STATUS` varchar(255) DEFAULT NULL,
  `VOICE_USAGE_LIMIT` bigint DEFAULT NULL,
  `SUBSCRIBER_NAME` varchar(50) DEFAULT NULL,
  `SUBSCRIBER_LAST_NAME` varchar(50) DEFAULT NULL,
  `SUBSCRIBER_GENDER` tinyint DEFAULT 0,
  `SUBSCRIBER_DOB` varchar(50) DEFAULT NULL,
  `ALTERNATE_CONTACT_NUMBER` varchar(50) DEFAULT NULL,
  `SUBSCRIBER_EMAIL` varchar(50) DEFAULT NULL,
  `SUBSCRIBER_ADDRESS` varchar(556) DEFAULT NULL,
  `CUSTOM_PARAM_1` varchar(255) DEFAULT NULL,
  `CUSTOM_PARAM_2` varchar(255) DEFAULT NULL,
  `CUSTOM_PARAM_3` varchar(255) DEFAULT NULL,
  `CUSTOM_PARAM_4` varchar(255) DEFAULT NULL,
  `CUSTOM_PARAM_5` varchar(255) DEFAULT NULL,
  `SERVICE_PLAN_ID` bigint DEFAULT NULL,
  `LOCATION_COVERAGE_ID` bigint DEFAULT NULL,
  `NEXT_LOCATION_COVERAGE_ID` bigint DEFAULT '0',
  `BILLING_CYCLE` bigint DEFAULT NULL,
  `RATE_PLAN_ID` bigint DEFAULT NULL,
  `NEXT_RATE_PLAN_ID` bigint DEFAULT NULL,
  `MNO_ACCOUNTID` bigint DEFAULT NULL,
  `ENT_ACCOUNTID` varchar(255) DEFAULT NULL,
  `TOTAL_DATA_USAGE` double DEFAULT '0',
  `TOTAL_DATA_DOWNLOAD` bigint DEFAULT '0',
  `TOTAL_DATA_UPLOAD` bigint DEFAULT '0',
  `DATA_USAGE_THRESHOLD` bigint DEFAULT '0',
  `IP_ADDRESS` varchar(20) NOT NULL DEFAULT '000.000.000.000',
  `LAST_KNOWN_LOCATION` varchar(100) DEFAULT NULL,
  `LAST_KNOWN_NETWORK` varchar(100) DEFAULT NULL,
  `STATE_MODIFIED_DATE` datetime DEFAULT NULL,
  `USAGES_NOTIFICATION` tinyint(1) DEFAULT '0',
  `BSS_ID` bigint DEFAULT NULL,
  `GOUP_ID` bigint DEFAULT NULL,
  `LOCK_REFERENCE` varchar(25) DEFAULT NULL,
  `SIM_POOL_ID` bigint DEFAULT NULL,
  `WHOLESALE_PLAN_ID` bigint DEFAULT NULL,
  `PROFILE_STATE` varchar(25) DEFAULT NULL,
  `EUICC_ID` varchar(255) DEFAULT NULL,
  `OPERATIONAL_PROFILE_DATA_PLAN` varchar(255) DEFAULT NULL,
  `BOOTSTRAP_PROFILE` int DEFAULT NULL,
  `CURRENT_IMEI` varchar(20) DEFAULT NULL,
  `ASSETS_EXTENDED_ID` bigint DEFAULT NULL,
  `DEVICE_PLAN_ID` varchar(255) DEFAULT NULL,
  `DEVICE_PLAN_DATE` timestamp NULL DEFAULT NULL,
  `COUNTRIES_ID` varchar(255) DEFAULT NULL,
  `DONOR_ICCID` varchar(255) DEFAULT NULL COMMENT 'For handling luhn digit concept storing iccid',
   PRIMARY KEY (`ID`)
) ENGINE=InnoDB;

CREATE TABLE IF NOT EXISTS `migration_assets_error_history` (
  `ID` bigint NOT NULL AUTO_INCREMENT,
  `CREATE_DATE` datetime NOT NULL,
  `ACTIVATION_DATE` datetime DEFAULT NULL,
  `APN` varchar(255) DEFAULT NULL,
  `DATA_USAGE_LIMIT` bigint DEFAULT NULL,
  `DEVICE_ID` varchar(255) DEFAULT NULL,
  `DEVICE_IP_ADDRESS` varchar(255) DEFAULT NULL,
  `DYNAMIC_IMSI` varchar(255) DEFAULT NULL,
  `DONOR_IMSI` varchar(255) DEFAULT NULL,
  `ICCID` varchar(25) DEFAULT NULL,
  `IMEI` varchar(20) DEFAULT NULL,
  `IMSI` varchar(20) DEFAULT NULL,
  `IN_SESSION` tinyint(1) DEFAULT '0',
  `MODEM_ID` varchar(255) DEFAULT NULL,
  `MSISDN` varchar(20) DEFAULT NULL,
  `SESSION_START_TIME` varchar(255) DEFAULT NULL,
  `SMS_USAGE_LIMIT` bigint DEFAULT NULL,
  `STATE` varchar(255) DEFAULT NULL,
  `STATUS` varchar(255) DEFAULT NULL,
  `VOICE_USAGE_LIMIT` bigint DEFAULT NULL,
  `SUBSCRIBER_NAME` varchar(50) DEFAULT NULL,
  `SUBSCRIBER_LAST_NAME` varchar(50) DEFAULT NULL,
  `SUBSCRIBER_GENDER` tinyint DEFAULT 0,
  `SUBSCRIBER_DOB` varchar(50) DEFAULT NULL,
  `ALTERNATE_CONTACT_NUMBER` varchar(50) DEFAULT NULL,
  `SUBSCRIBER_EMAIL` varchar(50) DEFAULT NULL,
  `SUBSCRIBER_ADDRESS` varchar(556) DEFAULT NULL,
  `CUSTOM_PARAM_1` varchar(255) DEFAULT NULL,
  `CUSTOM_PARAM_2` varchar(255) DEFAULT NULL,
  `CUSTOM_PARAM_3` varchar(255) DEFAULT NULL,
  `CUSTOM_PARAM_4` varchar(255) DEFAULT NULL,
  `CUSTOM_PARAM_5` varchar(255) DEFAULT NULL,
  `SERVICE_PLAN_ID` bigint DEFAULT NULL,
  `LOCATION_COVERAGE_ID` bigint DEFAULT NULL,
  `NEXT_LOCATION_COVERAGE_ID` bigint DEFAULT '0',
  `BILLING_CYCLE` bigint DEFAULT NULL,
  `RATE_PLAN_ID` bigint DEFAULT NULL,
  `NEXT_RATE_PLAN_ID` bigint DEFAULT NULL,
  `MNO_ACCOUNTID` bigint DEFAULT NULL,
  `ENT_ACCOUNTID` varchar(255) DEFAULT NULL,
  `TOTAL_DATA_USAGE` double DEFAULT '0',
  `TOTAL_DATA_DOWNLOAD` bigint DEFAULT '0',
  `TOTAL_DATA_UPLOAD` bigint DEFAULT '0',
  `DATA_USAGE_THRESHOLD` bigint DEFAULT '0',
  `IP_ADDRESS` varchar(20) NOT NULL DEFAULT '000.000.000.000',
  `LAST_KNOWN_LOCATION` varchar(100) DEFAULT NULL,
  `LAST_KNOWN_NETWORK` varchar(100) DEFAULT NULL,
  `STATE_MODIFIED_DATE` datetime DEFAULT NULL,
  `USAGES_NOTIFICATION` tinyint(1) DEFAULT '0',
  `BSS_ID` bigint DEFAULT NULL,
  `GOUP_ID` bigint DEFAULT NULL,
  `LOCK_REFERENCE` varchar(25) DEFAULT NULL,
  `SIM_POOL_ID` bigint DEFAULT NULL,
  `WHOLESALE_PLAN_ID` bigint DEFAULT NULL,
  `PROFILE_STATE` varchar(25) DEFAULT NULL,
  `EUICC_ID` varchar(255) DEFAULT NULL,
  `OPERATIONAL_PROFILE_DATA_PLAN` varchar(255) DEFAULT NULL,
  `BOOTSTRAP_PROFILE` int DEFAULT NULL,
  `CURRENT_IMEI` varchar(20) DEFAULT NULL,
  `ASSETS_EXTENDED_ID` bigint DEFAULT NULL,
  `DEVICE_PLAN_ID` varchar(255) DEFAULT NULL,
  `DEVICE_PLAN_DATE` timestamp NULL DEFAULT NULL,
  `COUNTRIES_ID` varchar(255) DEFAULT NULL,
  `DONOR_ICCID` varchar(255) DEFAULT NULL COMMENT 'For handling luhn digit storing iccid',
  `Error_Message` text DEFAULT NULL ,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB ;



CREATE TABLE IF NOT EXISTS `migration_assets_extended` (
  `ID` bigint NOT NULL AUTO_INCREMENT,
  `CREATE_DATE` datetime NOT NULL,
  `voice_template` int DEFAULT NULL,
  `sms_template` int DEFAULT NULL,
  `data_template` int DEFAULT NULL,
  `sim_type_id` int DEFAULT NULL,
  `ORDER_NUMBER` varchar(200) DEFAULT NULL,
  `SERVICE_GRANT` tinyint DEFAULT '0' COMMENT '0 is No and 1 is Yes',
  `IMEI_LOCK` tinyint DEFAULT '0' COMMENT '0 is No and 1 is Yes',
  `OLD_PROFILE_STATE` varchar(56) DEFAULT NULL,
  `CURRENT_PROFILE_STATE` varchar(56) DEFAULT NULL,
  `custom_param_1` varchar(96) DEFAULT NULL,
  `custom_param_2` varchar(96) DEFAULT NULL,
  `custom_param_3` varchar(96) DEFAULT NULL,
  `custom_param_4` varchar(96) DEFAULT NULL,
  `custom_param_5` varchar(96) DEFAULT NULL,
  `BULK_SERVICE_NAME` json DEFAULT NULL,
  `FVS_DATA` json DEFAULT NULL COMMENT 'To Store FVS JSON DATA',
  `sim_category` varchar(56) DEFAULT NULL COMMENT 'stores value sim_category(830,831,05X)',
  `lock_by_user` varchar(256) DEFAULT NULL,
  `imei_lock_setup_date` datetime DEFAULT NULL,
  `imei_lock_disable_date` datetime DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB; 

CREATE TABLE IF NOT EXISTS `migration_assets_extended_error_history` (
  `ID` bigint NOT NULL AUTO_INCREMENT,
  `CREATE_DATE` datetime NOT NULL,
  `voice_template` int DEFAULT NULL,
  `sms_template` int DEFAULT NULL,
  `data_template` int DEFAULT NULL,
  `sim_type_id` int DEFAULT NULL,
  `ORDER_NUMBER` varchar(200) DEFAULT NULL,
  `SERVICE_GRANT` tinyint DEFAULT '0' COMMENT '0 is No and 1 is Yes',
  `IMEI_LOCK` tinyint DEFAULT '0' COMMENT '0 is No and 1 is Yes',
  `OLD_PROFILE_STATE` varchar(56) DEFAULT NULL,
  `CURRENT_PROFILE_STATE` varchar(56) DEFAULT NULL,
  `custom_param_1` varchar(96) DEFAULT NULL,
  `custom_param_2` varchar(96) DEFAULT NULL,
  `custom_param_3` varchar(96) DEFAULT NULL,
  `custom_param_4` varchar(96) DEFAULT NULL,
  `custom_param_5` varchar(96) DEFAULT NULL,
  `BULK_SERVICE_NAME` json DEFAULT NULL,
  `FVS_DATA` json DEFAULT NULL COMMENT 'To Store FVS JSON DATA',
  `sim_category` varchar(56) DEFAULT NULL COMMENT 'stores value sim_category(830,831,05X)',
  `lock_by_user` varchar(256) DEFAULT NULL,
  `imei_lock_setup_date` datetime DEFAULT NULL,
  `imei_lock_disable_date` datetime DEFAULT NULL,
  `Error_Message` text DEFAULT NULL ,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB; 

CREATE TABLE IF NOT EXISTS `migration_tracking_history` (
   `id` int NOT NULL AUTO_INCREMENT,
   `database_name` varchar(128) DEFAULT '0',
   `table_name` varchar(128) DEFAULT '0',
   `message_status` text DEFAULT NULL,
   `query_print` text DEFAULT NULL,
    is_completed tinyint(1) DEFAULT 0,
   `create_date` datetime DEFAULT now(),
   PRIMARY KEY (`id`)
 ) ENGINE=InnoDB COMMENT='This table is used for mantaine Error_handling history';
 
 
 
 ALTER TABLE migration_assets MODIFY COLUMN NEXT_LOCATION_COVERAGE_ID bigint DEFAULT 0;
 ALTER TABLE migration_assets_error_history MODIFY COLUMN NEXT_LOCATION_COVERAGE_ID bigint DEFAULT 0;
 
 SET FOREIGN_KEY_CHECKS=1;